!function(a,b,c,d){"use strict";a(c).ready(function(){var d={init:function(){this.utils.init(),this.goScroll.init(),this.modal(),this.mixitup(),this.slides(),this.bins.init(),this.semantic(),this.slick.init(),this.buckets(),this.variant.init(),this.gallery.init(),this.historyButton(),this.resourceFilter(),this.responsiveVideo(),this.filterToggle(),this.pano(),this.eventTracking(),this.pinterest(),this.home(),this.masonry()},vals:{$window:a(b)},utils:{init:function(){this.mqState.appendEl(),this.mqState.checkStateView(),this.setDelay(),this.scrollIt(),this.getQueryVar()},mqState:{appendEl:function(){a("body").append('<div class="mq-state"/>')},checkStateView:function(){d.vals.view=parseInt(a(".mq-state").css("z-index")),Modernizr.mq("only all")||(d.vals.view=30)}},setDelay:function(){var a=!1,b=!1;d.vals.$window.on("scroll touchmove",function(){a=!0}),d.vals.$window.on("resize",function(){b=!0}),setInterval(function(){a&&(a=!1),b&&(b=!1,d.utils.mqState.checkStateView())},50)},scrollIt:function(){a(".js-to-top").on("click",function(b){b.preventDefault(),a("html, body").animate({scrollTop:0},300)}),a(".js-scroll-to").each(function(){a(this).on("click",function(b){b.preventDefault();var c=a(".site-header").height(),d=parseInt(a(".mq-state").css("z-index"))<20?0:c,e=a(this).attr("href"),f=a(e).offset(),g=a(".sub-nav .sub-nav-sec-title"),h=f.top-d;a("html, body").animate({scrollTop:h},300);var d=parseInt(a(".mq-state").css("z-index"))<20?0:80,e=a(this).attr("href"),f=a(e).offset();"#our-difference"===e?(g.text(" - Our Difference"),a(".menu-item a").removeClass("text-jaffa"),a(".menu-item--diff a").addClass("text-jaffa")):"#products"===e?(g.text(" - Styles"),a(".menu-item a").removeClass("text-jaffa"),a(".menu-item--styles a").addClass("text-jaffa")):"#gallery"===e&&(g.text(" - Gallery"),a(".menu-item a").removeClass("text-jaffa"),a(".menu-item--gall a").addClass("text-jaffa"))})})},placeholder:function(){a("input, textarea").placeholder()},getQueryVar:function(a){for(var c=b.location.search.substring(1),d=c.split("&"),e=0;e<d.length;e++){var f=d[e].split("=");if(f[0]==a)return f[1]}return!1}},goScroll:{init:function(){this.scrollItems()},scrollItems:function(){/[?&]filter_/.test(location.search)&&a("body").hasClass("term-32")&&this.scroll(a("#product-search-bar"))},scroll:function(b){var c=parseInt(a(".mq-state").css("z-index"))<20?0:80,d=b.offset();a("html, body").animate({scrollTop:d.top-c},300)}},modal:function(){a(".js-modal-video").magnificPopup({type:"iframe",mainClass:"mfp-fade"}),a(".js-modal-album").magnificPopup({type:"image",closeOnContentClick:!0,mainClass:"mfp-img-mobile",image:{verticalFit:!0},gallery:{enabled:!0},callbacks:{beforeClose:function(){a(".js-album").slick("slickGoTo",parseInt(this.index)),a('.gallery__image--thumbs[data-index="'+this.index+'"]').each(function(b){var c=a(this);c.closest(".slick-slide").hasClass("slick-cloned")||c.trigger("click",["modal"])})},change:function(){ga("send","event","Slideshow","Click",this.currItem.src)}}}),a(".js-modal-type-album").magnificPopup({type:"inline",midClick:!0,closeBtnInside:!0,focus:".slick-list",callbacks:{beforeOpen:function(){a(c).find(".slick-list").attr("tabindex",0)},open:function(){a(".js-type-album").slick({arrows:!0,centerMode:!0,centerPadding:"140px",slidesToShow:1,accessibility:!0,responsive:[{breakpoint:768,settings:{arrows:!0,centerMode:!0,centerPadding:"60px"}},{breakpoint:480,settings:{arrows:!0,centerMode:!0,centerPadding:"20px"}}]})}}}),a(".popup-modal").magnificPopup({type:"inline",midClick:!0,closeBtnInside:!0}),a(".js-region-modal").magnificPopup({type:"inline",midClick:!0});var b=a(".js-board-album");b.slick({arrows:!0,centerMode:!0,centerPadding:"140px",slidesToShow:1,lazyLoad:"ondemand",accessibility:!0,responsive:[{breakpoint:768,settings:{arrows:!0,centerMode:!0,centerPadding:"60px"}},{breakpoint:480,settings:{arrows:!0,centerMode:!0,centerPadding:"20px"}}]}),a(".js-boards").magnificPopup({delegate:"a",type:"inline",midClick:!0,closeBtnInside:!0,focus:".slick-list",callbacks:{beforeOpen:function(){b.slick("slickGoTo",this.index,!0),b.find(".slick-list").attr("tabindex",0)},open:function(){b.slick("setPosition")}}})},mixitup:function(){a("#spaces").mixItUp({controls:{toggleFilterButtons:!0,toggleLogic:"and"},callbacks:{onMixEnd:function(a){console.log(a)}}}),a(".indoor-room").on("click",function(){a(".area-filters").hide(),a(".room-filters").css("display","block"),a("#spaces").mixItUp("filter",".mix.indoor")}),a(".outdoor-area").on("click",function(){a(".room-filters").hide(),a(".area-filters").css("display","block"),a("#spaces").mixItUp("filter",".mix.outdoor")})},slides:function(){a(".js-slideshow").on("init",function(b,c){a(c.$slides[0]).find(".panel__content").addClass("is-transparent")}).on("beforeChange",function(b,c,d,e){var f=c.slideCount,g=0,h=c.slideCount-1;a(c.$slides[e]).addClass("load-bg");var i=e-1<g?g:e-1,j=e+1>f?h:e+1;a(c.$slides[i]).addClass("load-bg"),a(c.$slides[j]).addClass("load-bg"),a(c.$slides[d]).find(".panel__content").removeClass("is-transparent")}).on("afterChange",function(b,c,d,e){a(c.$slides[d]).find(".panel__content").addClass("is-transparent")}).slick({arrows:!0,dots:!0,fade:!0,autoplay:!0,pauseOnHover:!1,adaptiveHeight:!0,speed:1800,autoplaySpeed:5500,responsive:[{breakpoint:768,settings:{adaptiveHeight:!0}}]}),a(".type-carousel").slick({centerMode:!0,centerPadding:"60px",slidesToShow:4,arrows:!1,responsive:[{breakpoint:768,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:3}},{breakpoint:480,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1}}]}),a(".testimonial-slides").cycle({speed:600,manualSpeed:100,slides:"> .testimonial"}),a(".testimonial-slides").cycle({speed:600,manualSpeed:100,slides:"> .testimonial"}),a(".space--slides").flexslider({animation:"slide",animationLoop:!1,controlNav:!1,directionNav:!0,prevText:'<i class="icon-chevron-left"></i>',slideshow:!1,minItems:1,maxItems:1,touch:!1,itemWidth:"100%",after:function(){var b=a(".flex-active-slide");b.not(":first-child")&&a(".flex-nav-prev").css("display","inline-block"),b.is(":first-child")&&a(".flex-nav-prev").css("display","")}});var b=a(".space--slides").data("flexslider");a(".space--slides li .btn").not(".spaces-exit").on("click",function(){a(".space--slides").flexslider("next")}),a(".flex-prev").on("click",function(){var b=a("#spaces").mixItUp("getState"),c=b.activeFilter;if(".mix"!=c){var d=c.substr(0,c.lastIndexOf("."));a("#spaces").mixItUp("filter",d)}}),a(".reset-filters").on("click",function(){b.flexAnimate(0,!0,!0),a("#spaces").mixItUp("filter","all"),a(".area-filters, .room-filters").css("display","none")});var c=a("#product-slides"),d=a("#product-slides-nav");c.owlCarousel({singleItem:!0,slideSpeed:1e3,navigation:!0,navigationText:['<i class="icon-chevron-left"></i>','<i class="icon-chevron-right"></i>'],pagination:!1,responsiveRefreshRate:200}),d.owlCarousel({items:6,itemsDesktop:[1199,6],itemsDesktopSmall:[979,6],itemsTablet:[768,4],itemsMobile:[479,2],pagination:!1,responsiveRefreshRate:100})},bins:{init:function(){this.height()},height:function(){var b=a(".js-bins"),c=function(){b.each(function(){var b=a(this),c=b.find(".bin"),e=b.data("bin-viewport")||0;if(c.find(".bin__shiv").css("height","auto"),d.vals.view>e){var f=Math.max.apply(null,c.map(function(){return a(this).height()}).get());c.each(function(){var b=a(this),c=b.height();c<f&&b.find(".bin__shiv").css("height",f-c)})}})};b.find("[data-bin-shiv]").after('<div class="bin__shiv"></div>'),c();var e=!1;d.vals.$window.on("resize",function(){e=!0}),setInterval(function(){e&&(e=!1,c())},250),b.imagesLoaded().always(function(a){c()})}},semantic:function(){a(".accordion").accordion({selector:{trigger:".title"}})},slick:{init:function(){this.slickage()},slickage:function(){a(".js-slick").each(function(){var b=a(this),c=b.data("row"),d=1;c=parseInt(c)?parseInt(c):1,d=parseInt(c)>1?1:4,b.on("init",function(){b.find(".slick-next").after('<div class="paginate"></div>')}),b.on("init reInit afterChange",function(d,e,f,g){var h,i,j=(f||0)+1;c>1?(h=j,i=e.slideCount):(h=Math.ceil(j/2),i=Math.ceil(e.slideCount/2)),b.find(".paginate").fadeOut(200,function(){a(this).text(h+"/"+i).fadeIn()})}),b.slick({infinite:!1,rows:c,slidesPerRow:4,slidesToShow:d,slidesToScroll:d})});var c=a(".js-album"),e=a(".js-album-nav"),f=d.utils.getQueryVar("image");c.slick({arrows:!1,fade:!0,asNavFor:".js-related-products"}).on("swipe",function(b,c,d){var e=c.currentSlide;c.slideCount;a('.gallery__image--thumbs[data-index="'+e+'"]').each(function(b){var c=a(this);c.closest(".slick-slide").hasClass("slick-cloned")||c.trigger("click",["album"])})}),e.on("click",".gallery__image",function(d,f){var g=a(this),h=g.closest(".js-album-nav"),i=g.closest(".slick-slide"),j=g.data("index"),k=g.prop("src"),l=g.data("keyword"),f=void 0!==f?f:"nav";h.find(".gallery__image").removeClass("is-active"),g.addClass("is-active"),c.slick("slickGoTo",j),e.slick("slickGoTo",i.data("slick-index"));var m=b.location.pathname;history.pushState(null,null,m+"?image="+l),"modal"!==f&&ga("send","event","Slideshow","Click",k)}).on("init",function(b){f?a(b.currentTarget).find('.gallery__image[data-keyword="'+f+'"]').addClass("is-active"):a(b.currentTarget).find('.slick-current .gallery__image[data-index="0"]').addClass("is-active"),e.find(".gallery__image").length<=9&&e.removeClass("gallery__thumbs")}).slick({rows:3,slidesPerRow:3}),a(".js-related-products").slick({fade:!0,arrows:!1}),a(b).load(function(){if(f){var b=a('.gallery__image[data-keyword="'+f+'"]').data("index");a(".js-album").slick("slickGoTo",b);var c=a('.gallery__image[data-keyword="'+f+'"]').closest(".slick-slide");a(".js-album-nav").slick("slickGoTo",c.data("slick-index"))}})},resetIframe:function(a){if(a.length>0){var b=a.attr("src");a.attr("src",""),a.attr("src",b)}},updateDetails:function(b){var c=Videos[b];void 0!==c&&(c.hasOwnProperty("title")&&a(".js-video-title").html(c.title),c.hasOwnProperty("description")&&a(".js-video-description").html(c.description))}},buckets:function(){a(".js-bucket-nav").on("click",".bucket-nav__link",function(b){var c=a(this),d=c.attr("href"),e=a(".bucket"),f=a(d);c.hasClass("is-active")||(a(".bucket-nav__link").not(c).removeClass("is-active"),e.not(f).removeClass("is-active"),c.addClass("is-active"),f.addClass("is-active")),b.preventDefault()}),a(".js-update-region").on("click",function(b){a.cookie("ev_region",a(this).data("region"),{expires:7,path:"/"})})},variant:{init:function(){a("body").hasClass("single-product")&&(this.cache(),this.bind(),this.initialVariation())},cache:function(){this.$groups=a(".js-variant"),this.$variations=a(".variation"),this.$wrapper=a(".js-variant-bg"),this.$main=a(".js-variant-main"),this.$image=a(".js-variant-image"),this.$url=a(".js-variant-url"),this.initialChange=!0},bind:function(){this.$groups.on("click",".variation",this.render.bind(this))},initialVariation:function(){if(0==Variation.parent)this.$variations.eq(0).trigger("click");else{var b=a('.variation[data-id="'+Variation.ID+'"]'),c=b.closest(".js-slick"),d=b.closest(".slick-slide");c.slick("slickGoTo",d.data("slick-index")),b.trigger("click")}},render:function(b){var c=a(b.currentTarget),d=c.data("image");c.hasClass("is-active")||(this.$variations.not(c).removeClass("is-active"),c.addClass("is-active"),this.$main.attr("src",d),this.$image.attr("src",d),this.initialChange||(ga("set","page",c.data("path")),ga("send","pageview")),this.initialChange=!1)}},gallery:{init:function(){a("body").hasClass("single-gallery")&&(this.cache(),this.bind(),this.initialVariation())},cache:function(){this.$groups=a(".js-variant"),this.$variations=a(".variation"),this.$wrapper=a(".js-variant-bg"),this.$image=a(".js-variant-image"),this.$url=a(".js-variant-url"),this.$pdfs=a(".create-look-pdf"),this.$pdfLink=a(".js-variant-pdf")},bind:function(){this.$groups.on("click",".variation",this.render.bind(this))},initialVariation:function(){this.$variations.eq(0).trigger("click")},render:function(b){var c=a(b.currentTarget),d=c.data("image"),e=c.children("span").html(),f=c.children(".create-look-pdf").html();c.hasClass("is-active")||(this.$variations.not(c).removeClass("is-active"),c.addClass("is-active"),this.$wrapper.css("background-image","url("+d+")"),this.$image.attr("src",d),this.$url.attr("href",e)),a("body").hasClass("single-gallery")&&(f||this.$pdfLink.hasClass("visuallyhidden")?f&&this.$pdfLink.removeClass("visuallyhidden").addClass("btn").attr("href",f):this.$pdfLink.addClass("visuallyhidden").removeClass("btn").attr("href",""))}},historyButton:function(){a(".js-history-btn").on("click",function(a){a.preventDefault(),b.history.back()})},resourceFilter:function(){a(".js-resource-form").on("change","input:checkbox, input:radio",function(){a(".filter-submit").trigger("click")})},responsiveVideo:function(){a(".entry-content, .video-embed").fitVids()},filterToggle:function(){a(".js-filter-toggle").on("click",function(){a(".js-filter-drawer").toggleClass("is-active")})},pano:function(){a("body").hasClass("term-modern")&&a(".panorama-view").panorama360({sliding_controls:!0,sliding_direction:1,sliding_interval:25})},sticky:function(){a(".js-sticky").stick_in_parent({offset_top:80})},eventTracking:function(){a(".js-submit").on("click",function(a){ga("send","event","Product Selector","Click","Product Selector Results")}),a(".page-template-tpl-product-selector .step").each(function(){var b=a(this).find(".option"),c=a(this).data("tax");b.on("click",function(b){ga("send","event","Product Selector Option",c+": "+a(this).find(".option__name").text())})}),a(".single-product .variation").on("click",function(b){ga("send","event","Product Variation",a(this).data("path"))}),a("#wpsl-search-btn").on("click",function(b){var c=a.trim(a("#wpsl-search-input").val());""!=c&&ga("send","event","Where to Buy Locator","Search",c)}),a(".event-outdoor").on("click",function(a){ga("send","event","Call to Action","Click","Outdoor Design Tool")}),a(".event-prod-selector").on("click",function(a){ga("send","event","Call to Action","Click","Product Selector (Products overview)")}),a(".widget .cta-box").on("click",function(b){ga("send","event","Call to Action (Sidebar)","Click",a(this).attr("href"))}),a(".faqs.hentry").on("click",function(b){ga("send","event","FAQs","Click",a(this).find(".entry-title").text())}),a(".product-slide a").each(function(){a(this).on("click",function(b){ga("send","event","Homepage Product Bar","Click",a(this).find("h3").text())})}),a("#menu-main-menu a").each(function(){a(this).on("click",function(b){ga("send","event","Main Navigation","Click",a(this).text())})})},pinterest:function(){a(".hs-cta-img").delay(2e3).attr("data-pin-nopin","true")},home:function(){function b(b){b.preventDefault(),!1===g?(e.trigger("pause"),d.removeClass("playing"),c.removeClass("playing").html('<i class="icon-icon-play"></i>'),g=!0):(e.trigger("play"),a(".home--video").addClass("playing"),a(".home--video-bg").trigger("pause").addClass("paused"),a(".home--video-close").addClass("playing"),e.addClass("playing"),d.addClass("playing"),c.addClass("playing").html('<i class="icon-pause"></i>'),g=!1)}if(a("body").hasClass("home")){var c=a(".home--video-play"),d=a(".home--video-wrap h2"),e=a("#home--video-full"),f=e.get(0)
;a(".home--video-play").click(b),a(".home--video-close a").click(function(){d.removeClass("playing"),a(".home--video").removeClass("playing"),a(".home--video-close").removeClass("playing"),a(".home--video-bg").trigger("play").removeClass("paused"),e.trigger("pause"),e.removeClass("playing"),d.removeClass("playing"),c.removeClass("playing").html('<i class="icon-icon-play"></i>'),g=!1}),e.on("ended",function(){a(this).removeClass("playing"),d.removeClass("playing"),a(".home--video-close").removeClass("playing"),a(".home--video-bg").trigger("play").removeClass("paused"),c.removeClass("playing").html('<i class="icon-icon-play"></i>')})}},scrollAnim:function(){var a=jQuery(".sub-nav .sub-nav-sec-title"),c=jQuery("#our-difference"),d=jQuery("#products"),e=jQuery("#gallery"),f=jQuery(".sub-nav .menu-item a"),g=jQuery(".site-header").height();c.waypoint(function(b){"down"===b&&(a.text(" - Our Difference"),f.removeClass("text-jaffa"),jQuery(".menu-item--diff a").addClass("text-jaffa"))},{offset:g}),c.waypoint(function(b){"up"===b&&(a.text(" - Our Difference"),f.removeClass("text-jaffa"),jQuery(".menu-item--diff a").addClass("text-jaffa"))},{offset:function(){return jQuery(b).height()/6-c.outerHeight()}}),d.waypoint(function(b){"down"===b&&(a.text(" - Styles"),f.removeClass("text-jaffa"),jQuery(".menu-item--styles a").addClass("text-jaffa"))},{offset:g}),d.waypoint(function(b){"up"===b&&(a.text(" - Styles"),f.removeClass("text-jaffa"),jQuery(".menu-item--styles a").addClass("text-jaffa"))},{offset:function(){return jQuery(b).height()/6-d.outerHeight()}}),e.waypoint(function(b){"down"===b&&(a.text(" - Gallery"),f.removeClass("text-jaffa"),jQuery(".menu-item--gall a").addClass("text-jaffa"))},{offset:g}),e.waypoint(function(b){"up"===b&&(a.text(" - Gallery"),f.removeClass("text-jaffa"),jQuery(".menu-item--gall a").addClass("text-jaffa"))},{offset:function(){return jQuery(b).height()/6-e.outerHeight()}}),jQuery(".tax-slideshow-wrap").waypoint(function(b){"up"===b&&(a.text(""),f.removeClass("text-jaffa"))})},masonry:function(){var b=a(".boards").masonry({itemSelector:".board",columnWidth:".board-grid",percentPosition:!0});b.imagesLoaded().progress(function(){b.masonry("layout")})}};d.init()}),a(b).load(function(){var b=a('<p class="text-center l-margin-tl"><strong>Enter your location above to view distributors.</strong></p>');b.insertAfter(".wpsl-search"),a("#wpsl-search-btn").delay(1e3).on("click",function(){""!=a("#wpsl-search-input").val()&&(b.animate({opacity:0}).remove(),a("#wpsl-gmap").animate({opacity:1}).css({visibility:"visible"}),a("#wpsl-stores").animate({opacity:1}).css({visibility:"visible"}))})})}(jQuery,window,document);
//# sourceMappingURL=main.min.js.map